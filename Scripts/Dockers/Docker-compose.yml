version: '3.8'
services:
  db:
    image: postgres:rentcar
    container_name: rentcar-dev
    build: ./Images/Postgresql
    restart: always
    environment: 
      POSTGRES_PASSWORD: "secretworld"
    ports:
      - "5432:5432"

#   flyway:
#     image: flyway:rentcar
#     container_name: flyway
#     build: ./Images/Flyway
#     command: -url=jdbc:postgresql://db:5432/rentcardev -user=postgresdev -password=secret -connectRetries=60 migrate
#     depends_on:
#       - db

#   pgadmin:
#     image: dpage/pgadmin4:latest
#     restart: always
#     environment:
#       PGADMIN_DEFAULT_EMAIL: user@mail.com
#       PGADMIN_DEFAULT_PASSWORD: secret
#       PGADMIN_LISTEN_PORT: 80
#     ports:
#     - "8080:80"
#     volumes: 
#       - pgadmin-data:/var/lib/pgadmin
#     depends_on: 
#       - db

# volumes: 
#   pgadmin-data:
  
